(this["webpackJsonpreact-auth-client"]=this["webpackJsonpreact-auth-client"]||[]).push([[0],{165:function(e,t,a){},192:function(e,t,a){e.exports=a(377)},197:function(e,t,a){},214:function(e,t,a){},240:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},325:function(e,t,a){},355:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(11),l=a.n(i),r=a(18),o=a(13),c=a(14),u=a(23),m=a(22),d=(a(197),a(20)),p=a(40),h=a.n(p),b=s.a.createContext(),g=b.Consumer,E=b.Provider;function v(e){return function(t){return s.a.createElement(g,null,(function(a){return s.a.createElement(e,Object.assign({},t,{business:a.business,isLoggedIn:a.isLoggedIn,isLoading:a.isLoading,login:a.login,signup:a.signup,logout:a.logout}))}))}}var f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={business:null,isLoggedIn:!1,isLoading:!0},e.login=function(t,a){h.a.post("https://myhueco.herokuapp.com/auth/login",{email:t,password:a},{withCredentials:!0}).then((function(t){var a=t.data;e.setState({isLoggedIn:!0,isLoading:!1,business:a})})).catch((function(e){return console.log(e)}))},e.signup=function(t,a,n,s,i,l,r,o,c,u,m,d){console.log("signup",t,a,n,s,i,l,r,o,c),h.a.post("https://myhueco.herokuapp.com/auth/signup",{business_name:t,email:a,password:n,address:s,city:i,zip_code:l,service:r,phone_number:o,description:c,discount:u,initial_price:m,discounted_price:d},{withCredentials:!0}).then((function(t){var a=t.data;e.setState({isLoggedIn:!0,isLoading:!1,business:a})})).catch((function(e){return console.log(e)}))},e.logout=function(){h.a.get("https://myhueco.herokuapp.com/auth/logout",{withCredentials:!0}).then((function(t){e.setState({isLoggedIn:!1,isLoading:!1,business:null})})).catch((function(e){return console.log(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://myhueco.herokuapp.com/auth/me",{withCredentials:!0}).then((function(t){var a=t.data;e.setState({isLoggedIn:!0,isLoading:!1,business:a})})).catch((function(t){return e.setState({isLoggedIn:!1,isLoading:!1,business:null})}))}},{key:"render",value:function(){var e=this.state,t=e.business,a=e.isLoggedIn,n=e.isLoading,i=this.login,l=this.signup,r=this.logout;return s.a.createElement(E,{value:{business:t,isLoggedIn:a,isLoading:n,login:i,signup:l,logout:r}},this.props.children)}}]),a}(s.a.Component),y=(a(36),a(214),a(378)),k=a(380),N=y.a.Header,I=v(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.business,a=e.logout,n=e.isLoggedIn;return s.a.createElement(y.a,{className:"Layout"},n?s.a.createElement(N,{style:{position:"fixed",zIndex:1,width:"100%"}},s.a.createElement(k.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["4"]},s.a.createElement(k.a.Item,{key:"1"},s.a.createElement(r.b,{to:"/"},"Home")),s.a.createElement(k.a.Item,{key:"4"},s.a.createElement(r.b,{to:"/private"},"My Huecos")),s.a.createElement(k.a.Item,{key:"5"},"You are logged in as ",t.business_name),s.a.createElement(r.b,{onClick:a,className:"logout"},"Log out"))):s.a.createElement(N,{style:{position:"fixed",zIndex:1,width:"100%"}},s.a.createElement(k.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]},s.a.createElement(k.a.Item,{key:"1"},s.a.createElement(r.b,{to:"/"},"Home")),s.a.createElement(k.a.Item,{key:"2"},s.a.createElement(r.b,{to:"/login"},"Business Log in")),s.a.createElement(k.a.Item,{key:"3"},s.a.createElement(r.b,{to:"/signup"},"Business Sign up")))))}}]),a}(n.Component)),_=a(71),C=new(function(){function e(){Object(o.a)(this,e),this.business=h.a.create({baseURL:"https://myhueco.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"getAllBusinesses",value:function(){return this.business.get("/api/businesses").then((function(e){return e.data}))}},{key:"getOneBusinessById",value:function(e){return this.business.get("/api/businesses/".concat(e)).then((function(e){return e.data}))}},{key:"getBusiness",value:function(){return this.business.get("/auth/myhueco").then((function(e){return e.data}))}},{key:"addAHueco",value:function(e,t){return console.log("id",e,"timeSlot",t),this.business.put("/api/businesses/".concat(e,"/add-hueco"),{timeSlot:t}).then((function(e){return e.data}))}},{key:"editHueco",value:function(e,t){return this.business.put("/api/businesses/".concat(e,"/edit/:myhuecoId"),t).then((function(e){return e.data}))}},{key:"deleteHueco",value:function(e,t){return this.business.delete("/api/businesses/".concat(e,"/delete/").concat(t)).then((function(e){return e.data}))}}]),e}()),O=(a(240),a(133)),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={viewport:{width:"50%",height:"80%",latitude:41.3851,longitude:2.1734,zoom:10,selectedBusiness:null,setSelectedBusiness:null,selectedBusinessVisible:!1,pinVisible:!1},userLocation:{},businesses:[],selectedBusiness:null},e.setUserLocation=function(){navigator.geolocation.getCurrentPosition((function(t){var a={lat:t.coords.latitude,long:t.coords.longitude},n={height:"200vh",width:"200vw",latitude:t.coords.latitude,longitude:t.coords.longitude,zoom:10};e.setState({viewport:n,userLocation:a})}))},e.setSelectedBusiness=function(t){e.setState({selectedBusiness:t,selectedBusinessVisible:!0,pinVisible:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.getAllBusinesses().then((function(t){console.log("business",t),e.setState({businesses:t})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e){return e!==this.state}},{key:"render",value:function(){var e=this;console.log("this.state.selectedBusienss",this.state.selectedBusiness);var t=this.state.viewport,a=(t.latitude,t.longitude,t.width,t.height,t.zoom,this.state.businesses),n=this.state.selectedBusiness;return s.a.createElement("div",null,s.a.createElement(_.e,Object.assign({style:{marginLeft:"45%",position:"fixed",zIndex:1,width:"100%",marginTop:"0%"},className:"map"},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoiZ3JhbngwMiIsImEiOiJjazlrOWUwb3YwbTlnM2huemFqajV3d3dsIn0.uL_eJIIsWA0CpS8-HOOFdA",mapStyle:"mapbox://styles/granx02/cka9kifn53jh71jo248opf5q4",onViewportChange:function(t){return e.setState({viewport:t})}}),s.a.createElement("div",null,s.a.createElement(_.a,{className:"GeolocateControl",positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,onViewportChange:function(t){return e.setState({viewport:t})}})),s.a.createElement(_.c,{className:"NavigationControl"}),s.a.createElement(s.a.Fragment,null,a?a.map((function(t){return t.coordinates.length>0?s.a.createElement("div",null,s.a.createElement(_.b,{key:t._id,latitude:t.coordinates[1],longitude:t.coordinates[0]},s.a.createElement("button",{className:"marker-btn",onClick:function(a){a.preventDefault(),e.setSelectedBusiness(t)}},s.a.createElement("img",{src:"https://res.cloudinary.com/dksnrn8gi/image/upload/v1589701760/m3-project/pointer_ckmftw.png",alt:"Marker Icon"})))):null})):null),n?s.a.createElement("div",null,s.a.createElement(_.d,{className:"popup",latitude:n.coordinates[1],longitude:n.coordinates[0],onClose:function(){e.setSelectedBusiness(null)}},s.a.createElement("div",null,s.a.createElement("h2",{className:"title-pop"},n.business_name),s.a.createElement("img",{src:n.image_url,alt:"img-business"}),s.a.createElement("div",{className:"more-btn"},s.a.createElement(r.b,{to:"/businesses/".concat(n._id)},s.a.createElement(O.a,{type:"primary"},"More details")))))):null))}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={businesses:[],selectedBusiness:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.getAllBusinesses().then((function(t){console.log("business",t),e.setState({businesses:t})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e){return e!==this.state}},{key:"render",value:function(){console.log("business list card seletected business",this.state.selectedBusiness);var e=this.state.businesses;return s.a.createElement("div",null,e?e.map((function(e){return s.a.createElement("section",{className:"business-card"},s.a.createElement(r.b,{to:"/businesses/".concat(e._id)},s.a.createElement("div",{className:"card"},e.image_url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:e.image_url,alt:"Avatar",style:{width:100}})):s.a.createElement("div",null,s.a.createElement("img",{src:"https://res.cloudinary.com/dksnrn8gi/image/upload/v1590692029/m3-project/hueco_dumqcz.png",alt:"Avatar",style:{width:100}})),s.a.createElement("div",{className:"container"},s.a.createElement("h4",null,s.a.createElement("b",null,e.business_name)),s.a.createElement("p",null,e.service),s.a.createElement("p",null,"Discount: -",e.discount,"%")))))})):null)}}]),a}(n.Component);a(243);var S=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"b-card"},s.a.createElement(w,{className:"map"}),s.a.createElement(j,{className:"list-card"})))},x=a(188),B=a(379),L=a(381),P=(a(244),{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),A={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},H=v((function(e){var t=B.a.useForm(),a=Object(x.a)(t,1)[0];return s.a.createElement("div",null,s.a.createElement("h1",{className:"business-signup"},"Business Sign up"),s.a.createElement("div",{className:"form-ant"},s.a.createElement(B.a,Object.assign({},P,{form:a,name:"register",onFinish:function(t){console.log("Received values of form: ",t);var a=t.business_name,n=t.email,s=t.password,i=t.address,l=t.city,r=t.zip_code,o=t.service,c=t.phone_number,u=t.description,m=t.discount,d=t.initial_price,p=t.discounted_price;e.signup(a,n,s,i,l,r,o,c,u,m,d,p)},scrollToFirstError:!0}),s.a.createElement(B.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},s.a.createElement(L.a.Password,{className:"input"})),s.a.createElement(B.a.Item,{name:"business_name",label:"Business name",rules:[{required:!0,message:"Please input your business name",whitespace:!0}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"address",label:"Business address",rules:[{required:!0,message:"Please select your business address!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"zip_code",label:"Zip Code",rules:[{required:!0,message:"Please select your zip code!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"city",label:"City",rules:[{required:!0,message:"Please select your city!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"phone_number",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"service",label:"What kind of service are you offering?",rules:[{required:!0,message:"Please input your service!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"discount",label:"How much discount do you want to offer?",rules:[{required:!0,message:"Please input your discount!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"initial_price",label:"What is the initial price of your service?",rules:[{required:!0,message:"Please input your initial price!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"discounted_price",label:"What is the discouted price of your service?",rules:[{required:!0,message:"Please input your discounted price!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{name:"description",label:"Description of your business",rules:[{required:!0,message:"Please describe your service"}]},s.a.createElement(L.a.TextArea,{className:"input"})),s.a.createElement(B.a.Item,A,s.a.createElement(O.a,{type:"primary",htmlType:"submit",className:"singup-btn"},"Register")))))})),q=a(384),D=(a(325),{labelCol:{span:8},wrapperCol:{span:16}}),F={wrapperCol:{offset:8,span:16}},M=v((function(e){return s.a.createElement("div",{className:"business-title"},s.a.createElement("h1",{className:"business-login"},"Business Log in"),s.a.createElement("div",{className:"form-ant"},s.a.createElement(B.a,Object.assign({},D,{name:"basic",initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t);var a=t.email,n=t.password;e.login(a,n)},onFinishFailed:function(e){console.log("Failed:",e)}}),s.a.createElement(B.a.Item,{label:"Email",name:"email",rules:[{type:"email",required:!0,message:"Please input your email!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},s.a.createElement(L.a.Password,{className:"input"})),s.a.createElement(B.a.Item,Object.assign({},F,{name:"remember",valuePropName:"checked"}),s.a.createElement(q.a,null,"Remember me")),s.a.createElement(B.a.Item,F,s.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit")))))}));var T=v((function(e){console.log("props :>> ",e);var t=e.exact,a=e.path,n=e.component,i=e.isLoggedIn,l=n;return s.a.createElement(d.b,{exact:t,path:a,render:function(e){return i?s.a.createElement(d.a,{to:"/private"}):i?void 0:s.a.createElement(l,e)}})}));var z=v((function(e){console.log("props :>> ",e);var t=e.exact,a=e.path,n=e.component,i=e.isLoggedIn,l=n;return s.a.createElement(d.b,{exact:t,path:a,render:function(e){return i?s.a.createElement(l,e):i?void 0:s.a.createElement(d.a,{to:"/login"})}})})),R=new(function(){function e(){Object(o.a)(this,e),this.booking=h.a.create({baseURL:"https://myhueco.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"bookingUserContactInfo",value:function(e){var t=e.first_name,a=e.last_name,n=e.email,s=e.businessId,i=e.timeslotId;return this.booking.post("/api/booking/contact-info",{first_name:t,last_name:a,email:n,businessId:s,timeslotId:i}).then((function(e){return e.data}))}},{key:"bookingUserPaymentInfo",value:function(e,t){return this.booking.put("/api/booking/".concat(t,"/payment-information"),e).then((function(e){return e.data}))}},{key:"getBooking",value:function(e){return this.business.get("/api/booking/".concat(e)).then((function(e){return e.data}))}}]),e}()),U=a(382),V=a(383),Y=(a(355),{labelCol:{span:8},wrapperCol:{span:16}}),W={wrapperCol:{offset:8,span:16}},J=function(e){var t=V.a.Step;return s.a.createElement("div",{className:"contact"},s.a.createElement("div",{className:"step"},s.a.createElement(V.a,{current:0},s.a.createElement(t,{title:"Contact Information",description:"In progress"}),s.a.createElement(t,{title:"Secure your hueco",subTitle:"",description:"Next Step"}),s.a.createElement(t,{title:"Waiting",description:"Hueco confirmation"}))),s.a.createElement("h2",{className:"title-info"},"Please fill out your information:"),s.a.createElement(B.a,Object.assign({className:"form-contact"},Y,{name:"basic",initialValues:{remember:!0},onFinish:function(t){console.log("propsbooooking",e);var a=t.first_name,n=t.last_name,s=t.email,i=e.match.params,l=i.businessId,r=i.timeslotId;R.bookingUserContactInfo({first_name:a,last_name:n,email:s,businessId:l,timeslotId:r}).then((function(t){console.log("response",t);var a=t.newBooking._id;e.history.push("/booking/".concat(a,"/payment-information"))})).catch((function(e){return console.log(e)}))},onFinishFailed:function(e){console.log("Failed:",e)}}),s.a.createElement(B.a.Item,{label:"First name",name:"first_name",onClick:function(){return function(e){var t=Math.floor(91*Math.random()+10);U.a.info({message:"".concat(t," people are checking this Hueco near Barcelona."),description:"Be the one to book it now!",placement:e})}("bottomLeft")},rules:[{required:!0,message:"Please input your first name!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{label:"Last name",name:"last_name",rules:[{required:!0,message:"Please input your last name!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,{label:"Email",name:"email",rules:[{type:"email",required:!0,message:"Please input your email!"}]},s.a.createElement(L.a,{className:"input"})),s.a.createElement(B.a.Item,W,s.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit"))))},Q=a(67),K=(a(371),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={cardholder_name:"",card_number:"",expiration_date:"",cv_code:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.cardholder_name,s=a.card_number,i=a.expiration_date,l=a.cv_code,r=e.props.match.params.bookingId;R.bookingUserPaymentInfo({cardholder_name:n,card_number:s,expiration_date:i,cv_code:l},r).then((function(t){console.log("booking",t),e.props.history.push("/booking/".concat(t._id))})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(Q.a)({},n,s))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.cardholder_name,a=e.card_number,n=e.expiration_date,i=e.cv_code,l=V.a.Step;return s.a.createElement("div",{className:"payment-info"},s.a.createElement("div",{className:"step"},s.a.createElement(V.a,{current:1},s.a.createElement(l,{title:"Contact Information",description:"Done"}),s.a.createElement(l,{title:"Secure your hueco",subTitle:"",description:"Payment Information"}),s.a.createElement(l,{title:"Waiting",description:"Hueco confirmation"})),s.a.createElement("div",{className:"notice"},s.a.createElement("p",null,s.a.createElement("b",null,"THIS PAYMENT PROCESSOR IS USED FOR A DEMO, DO NOT ENTER ANY REAL CREDIT CARD DETAILS!")))),s.a.createElement("form",{className:"credit-card",onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"form-header"},s.a.createElement("h4",{className:"title"},"Credit card details: ")),s.a.createElement("div",{className:"form-body"},s.a.createElement("img",{src:"https://res.cloudinary.com/dksnrn8gi/image/upload/v1590607554/m3-project/credit-cards-icons-png_nbh1fv.png",alt:"cc-logo"}),s.a.createElement("input",{type:"text",name:"cardholder_name",className:"card-number",placeholder:"Cardholder Name",value:t,onChange:this.handleChange}),s.a.createElement("input",{type:"text",name:"card_number",className:"card-number",placeholder:"Card Number",value:a,onChange:this.handleChange}),s.a.createElement("div",{className:"date-field"},s.a.createElement("div",{className:"month"},s.a.createElement("input",{type:"text",className:"card-number",name:"expiration_date",placeholder:"MM/YY",value:n,onChange:this.handleChange})),s.a.createElement("div",{className:"year"},s.a.createElement("input",{type:"text",className:"card-number",placeholder:"CVV",name:"cv_code",value:i,onChange:this.handleChange}))),s.a.createElement("button",{type:"submit",className:"proceed-btn",value:"Submit"},"Proceed"))))}}]),a}(n.Component)),Z=a(189),G=(a(165),a(72)),X=a(386),$=a(387),ee=v(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={availability:[]},e.deleteHueco=function(t,a){var n=e.props.business._id;C.deleteHueco(n,t).then((function(t){console.log("businesses.availability",t.availability);var n=Object(Z.a)(e.state.availability);n.splice(a,1),e.setState({availability:n})})).catch((function(e){return console.log(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("businessID",this.props);var t=this.props.business._id;C.getOneBusinessById(t).then((function(t){console.log("businesses",t),e.setState({availability:t.availability})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;console.log("availability",this.state.availability);var t=this.state.availability;return s.a.createElement("div",{className:"huecos"},s.a.createElement("h1",null,"My Huecos for the day:"),t.length>0?s.a.createElement("div",null,t.map((function(t,a){return console.log("each",t.isBooked),!0===t.isBooked?s.a.createElement("div",null,s.a.createElement(O.a,{type:"primary",style:{backgroundColor:"red"}}," ",t.timeSlot),s.a.createElement(O.a,{onClick:function(){return e.deleteHueco(t._id,a)}},s.a.createElement(X.a,null))):s.a.createElement("div",null,s.a.createElement(O.a,{type:"primary",style:{backgroundColor:"limegreen"}}," ",t.timeSlot),s.a.createElement(O.a,{onClick:function(){return e.deleteHueco(t._id,a)}},s.a.createElement(X.a,null)))})),s.a.createElement(O.a,{type:"primary",icon:s.a.createElement($.a,null)},s.a.createElement(r.b,{to:"/businesses/".concat(this.props.business._id,"/add-hueco"),className:"link-hueco"},"Add a hueco"))):s.a.createElement("div",{className:"add-hueco"},s.a.createElement(G.a,null),s.a.createElement(O.a,{type:"primary",icon:s.a.createElement($.a,null)},s.a.createElement(r.b,{to:"/businesses/".concat(this.props.business._id,"/add-hueco"),className:"link-hueco"},"Add a hueco"))))}}]),a}(n.Component)),te=(a(372),a(385)),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={business:[]},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.cardholder_name,s=a.card_number,i=a.expiration_date,l=a.cv_code;e.props.payment(n,s,i,l)},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(Q.a)({},n,s))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=V.a.Step;return s.a.createElement("div",{className:"thankyou-page"},s.a.createElement("div",{className:"step"},s.a.createElement(V.a,{current:2},s.a.createElement(e,{title:"Contact Information",description:"Done"}),s.a.createElement(e,{title:"Secure your hueco",subTitle:"",description:"Done"}),s.a.createElement(e,{title:"Booking Confirmed!",description:"Hueco confirmation"})),s.a.createElement("img",{className:"QRcode-img",src:"https://res.cloudinary.com/dksnrn8gi/image/upload/v1590510091/m3-project/qrcode_r6n6qv.png",alt:"qrcode"})),s.a.createElement(te.a,{status:"success",title:"Congratulations! Your Hueco Has Been Successfully Booked ",subTitle:"Make sure you download your QR Code by clicking below on download!",extra:[s.a.createElement("div",{className:"buttons-qr"},s.a.createElement("a",{href:"https://res.cloudinary.com/dksnrn8gi/image/upload/v1590510091/m3-project/qrcode_r6n6qv.png",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(O.a,{type:"primary",key:"console",className:"space-btn"},"Download My QR Code!")),s.a.createElement(r.b,{to:"/"},s.a.createElement(O.a,{key:"buy"},"See other Huecos available today!")))]}))}}]),a}(n.Component),ne=(a(375),v(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={availability:[],selectedSlot:"",isEmpty:!1},e.handleFormSubmit=function(t){t.preventDefault(),console.log("state",e.state);var a=e.state.selectedSlot;console.log("this.props.match.params.businessId",e.props.match.params.businessId),C.addAHueco(e.props.match.params.businessId,a).then((function(){return e.props.history.push("/private")})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){console.log("eventtarget",t.target);var a=t.target,n=a.name,s=a.value;e.setState(Object(Q.a)({},n,s))},e}return Object(c.a)(a,[{key:"render",value:function(){return console.log("state",this.state),s.a.createElement("div",{className:"add-huecos"},s.a.createElement("h1",null,"Add Huecos"),s.a.createElement("p",null,"Select your empty timeslots for today and press add to display them to your futur customers. You can display maximum 5 huecos per day."),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"hueco-container"},s.a.createElement("label",{for:""},"Select your empty slots:"),s.a.createElement("div",{class:"select"},s.a.createElement("select",{id:"",name:"selectedSlot",form:"",onChange:this.handleChange},s.a.createElement("option",{value:"",hidden:!0},"Select"),s.a.createElement("option",{value:"00h - 01h"},"00h - 01h"),s.a.createElement("option",{value:"01h - 02h"},"01h - 02h"),s.a.createElement("option",{value:"02h - 03h"},"02h - 03h"),s.a.createElement("option",{value:"03h - 04h"},"03h - 04h"),s.a.createElement("option",{value:"04h - 05h"},"04h - 05h"),s.a.createElement("option",{value:"05h - 06h"},"05h - 06h"),s.a.createElement("option",{value:"06h - 07h"},"06h - 07h"),s.a.createElement("option",{value:"07h - 08h"},"07h - 08h"),s.a.createElement("option",{value:"08h - 09h"},"08h - 09h"),s.a.createElement("option",{value:"09h - 10h"},"09h - 10h"),s.a.createElement("option",{value:"10h - 11h"},"10h - 11h"),s.a.createElement("option",{value:"11h - 12h"},"11h - 12h"),s.a.createElement("option",{value:"12h - 13h"},"12h - 13h"),s.a.createElement("option",{value:"13h - 14h"},"13h - 14h"),s.a.createElement("option",{value:"14h - 15h"},"14h - 15h"),s.a.createElement("option",{value:"15h - 16h"},"15h - 16h"),s.a.createElement("option",{value:"16h - 17h"},"16h - 17h"),s.a.createElement("option",{value:"17h - 18h"},"17h - 18h"),s.a.createElement("option",{value:"18h - 19h"},"18h - 19h"),s.a.createElement("option",{value:"19h - 20h"},"19h - 20h"),s.a.createElement("option",{value:"18h - 19h"},"20h - 21h"),s.a.createElement("option",{value:"21h - 22h"},"21h - 22h"),s.a.createElement("option",{value:"22h - 23h"},"22h - 23h"),s.a.createElement("option",{value:"23h - 00h"},"23h - 00h")))),s.a.createElement("div",{className:"hueco-container"},s.a.createElement("button",{className:"ant-btn-primary",type:"submit",icon:s.a.createElement($.a,null)},"Add my Hueco now!"))))}}]),a}(n.Component))),se=(a(376),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={business:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.businessId;C.getOneBusinessById(t).then((function(t){console.log("businesses",t),e.setState({business:t})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e){return e!==this.state}},{key:"render",value:function(){var e=this.state.business;return s.a.createElement("div",null,e?s.a.createElement("div",null,s.a.createElement("h1",{className:"title-business"},e.business_name),s.a.createElement("section",{className:"details"},e.image_url?s.a.createElement("img",{src:e.image_url,alt:"img-business"}):s.a.createElement("img",{src:"https://res.cloudinary.com/dksnrn8gi/image/upload/v1590692029/m3-project/hueco_dumqcz.png",alt:"img-business"}),s.a.createElement("div",{className:"details-business"},s.a.createElement("p",null,s.a.createElement("b",null,"Address:")," ",e.address," ",e.zip_code," ",e.city),s.a.createElement("p",null," ",s.a.createElement("b",null,"Phone number:")," ",e.phone_number),s.a.createElement("p",null,s.a.createElement("b",null,"Service offered:")," ",e.service),s.a.createElement("p",null,s.a.createElement("b",null,"Discount:")," ",s.a.createElement("span",{className:"bleu-btn"},"-",e.discount,"%")),s.a.createElement("div",{className:"prices"},s.a.createElement("p",null,s.a.createElement("b",null,"Initial price:")," ",s.a.createElement("span",{className:"bleu-btn"},s.a.createElement("strike",null,e.initial_price,"\u20ac"))),s.a.createElement("p",{className:"hueco-price"},s.a.createElement("b",null,"Hueco's price:")," ",s.a.createElement("span",{className:"bleu-btn"},e.discounted_price,"\u20ac"))),s.a.createElement("p",{className:"description-details"},s.a.createElement("b",null," Description of the service:"),s.a.createElement("br",null)," ",e.description),s.a.createElement("div",{className:"available-huecos"},s.a.createElement("p",null,s.a.createElement("b",null,"Select the Hueco you want to book:")),s.a.createElement("ul",null,e.availability.map((function(t){return console.log("huecoisbooke",t.isBooked),!0===t.isBooked?null:s.a.createElement("div",{className:"hueco-link"},s.a.createElement(r.b,{to:"/booking/".concat(e._id,"/").concat(t._id,"/contact-info")},s.a.createElement(O.a,null,t.timeSlot)))}))))))):null)}}]),a}(n.Component)),ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(I,null),s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/",component:S}),s.a.createElement(T,{exact:!0,path:"/signup",component:H}),s.a.createElement(T,{exact:!0,path:"/login",component:M}),s.a.createElement(T,{exact:!0,path:"/businesses/:businessId",component:se}),s.a.createElement(T,{exact:!0,path:"/booking/:businessId/:timeslotId/contact-info",component:J}),s.a.createElement(T,{exact:!0,path:"/booking/:bookingId/payment-information",component:K}),s.a.createElement(T,{exact:!0,path:"/booking/:bookingId",component:ae}),s.a.createElement(z,{exact:!0,path:"/private",component:ee}),s.a.createElement(z,{exact:!0,path:"/businesses/:businessId/add-hueco",component:ne})),s.a.createElement("div",{className:"footer"},s.a.createElement("p",null,"Hueco \xa92020 Created by Maxime Lagrange")))}}]),a}(n.Component);l.a.render(s.a.createElement(r.a,null,s.a.createElement(f,null,s.a.createElement(ie,null))),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.523c4b0d.chunk.js.map